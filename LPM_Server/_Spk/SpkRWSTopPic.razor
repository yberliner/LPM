@using CardModel
@inherits LPM.Shared.AccordionInputBase

<div style="position: relative; display: inline-block;">
    <img src="images/rws_top.png"
         alt="Robot wheels"
         style="max-width: 100%; height: auto;" />

    <!-- Front-left wheel -->
    <div style="position:absolute; top:20%; left:20%;
                padding:2px 6px;
                color:white;
                font-size:12px;
                border-radius:4px;
                background-color:@ColorFor(0);">
        WheelLock: @(WheelLock?[0] == true ? "NC" : "NO")
    </div>

    <!-- Front-right wheel -->
    <div style="position:absolute; top:20%; left:70%;
                padding:2px 6px;
                color:white;
                font-size:12px;
                border-radius:4px;
                background-color:@ColorFor(1);">
        WheelLock: @(WheelLock?[1] == true ? "NC" : "NO")
    </div>

    <!-- Rear-left wheel -->
    <div style="position:absolute; top:70%; left:20%;
                padding:2px 6px;
                color:white;
                font-size:12px;
                border-radius:4px;
                background-color:@ColorFor(2);">
        WheelLock: @(WheelLock?[2] == true ? "NC" : "NO")
    </div>

    <!-- Rear-right wheel -->
    <div style="position:absolute; top:70%; left:70%;
                padding:2px 6px;
                color:white;
                font-size:12px;
                border-radius:4px;
                background-color:@ColorFor(3);">
        WheelLock: @(WheelLock?[3] == true ? "NC" : "NO")
    </div>
</div>

@code {

    [Parameter] public bool[] WheelLock { get; set; } = new [] {true, true, true, true };

    private string ColorFor(int index)
    {
        var locked = WheelLock != null
                     && index >= 0
                     && index < WheelLock.Length
                     && WheelLock[index];

        return locked ?    "rgba(0,128,0,0.7)"   // red = locked
                      : "rgba(255,0,0,0.7)";     // green = free
    }
}
